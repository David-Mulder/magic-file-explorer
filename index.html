<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="theme-color" content="#000000">


    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preload" as="video" href="ccards/base.mp4">
    <link rel="preload" as="video" href="ccards/Heart-1.mp4">
    <link rel="preload" as="video" href="ccards/Heart-2.mp4">
    <link rel="preload" as="video" href="ccards/Heart-3.mp4">
    <link rel="preload" as="video" href="ccards/Heart-4.mp4">
    <link rel="preload" as="video" href="ccards/Heart-5.mp4">
    <link rel="preload" as="video" href="ccards/Heart-6.mp4">
    <link rel="preload" as="video" href="ccards/Heart-7.mp4">
    <link rel="preload" as="video" href="ccards/Heart-8.mp4">
    <link rel="preload" as="video" href="ccards/Heart-9.mp4">
    <link rel="preload" as="video" href="ccards/Heart-10.mp4">
    <link rel="preload" as="video" href="ccards/Heart-11.mp4">
    <link rel="preload" as="video" href="ccards/Heart-12.mp4">
    <link rel="preload" as="video" href="ccards/Heart-13.mp4">
    <link rel="preload" as="video" href="ccards/Clubs-1.mp4">
    <link rel="preload" as="video" href="ccards/Clubs-2.mp4">
    <link rel="preload" as="video" href="ccards/Clubs-3.mp4">
    <link rel="preload" as="video" href="ccards/Clubs-4.mp4">
    <link rel="preload" as="video" href="ccards/Clubs-5.mp4">
    <link rel="preload" as="video" href="ccards/Clubs-6.mp4">
    <link rel="preload" as="video" href="ccards/Clubs-7.mp4">
    <link rel="preload" as="video" href="ccards/Clubs-8.mp4">
    <link rel="preload" as="video" href="ccards/Clubs-9.mp4">
    <link rel="preload" as="video" href="ccards/Clubs-10.mp4">
    <link rel="preload" as="video" href="ccards/Clubs-11.mp4">
    <link rel="preload" as="video" href="ccards/Clubs-12.mp4">
    <link rel="preload" as="video" href="ccards/Clubs-13.mp4">
    <link rel="preload" as="video" href="ccards/Spades-1.mp4">
    <link rel="preload" as="video" href="ccards/Spades-2.mp4">
    <link rel="preload" as="video" href="ccards/Spades-3.mp4">
    <link rel="preload" as="video" href="ccards/Spades-4.mp4">
    <link rel="preload" as="video" href="ccards/Spades-5.mp4">
    <link rel="preload" as="video" href="ccards/Spades-6.mp4">
    <link rel="preload" as="video" href="ccards/Spades-7.mp4">
    <link rel="preload" as="video" href="ccards/Spades-8.mp4">
    <link rel="preload" as="video" href="ccards/Spades-9.mp4">
    <link rel="preload" as="video" href="ccards/Spades-10.mp4">
    <link rel="preload" as="video" href="ccards/Spades-11.mp4">
    <link rel="preload" as="video" href="ccards/Spades-12.mp4">
    <link rel="preload" as="video" href="ccards/Spades-13.mp4">
    <link rel="preload" as="video" href="ccards/Diamond-1.mp4">
    <link rel="preload" as="video" href="ccards/Diamond-2.mp4">
    <link rel="preload" as="video" href="ccards/Diamond-3.mp4">
    <link rel="preload" as="video" href="ccards/Diamond-4.mp4">
    <link rel="preload" as="video" href="ccards/Diamond-5.mp4">
    <link rel="preload" as="video" href="ccards/Diamond-6.mp4">
    <link rel="preload" as="video" href="ccards/Diamond-7.mp4">
    <link rel="preload" as="video" href="ccards/Diamond-8.mp4">
    <link rel="preload" as="video" href="ccards/Diamond-9.mp4">
    <link rel="preload" as="video" href="ccards/Diamond-10.mp4">
    <link rel="preload" as="video" href="ccards/Diamond-11.mp4">
    <link rel="preload" as="video" href="ccards/Diamond-12.mp4">
    <link rel="preload" as="video" href="ccards/Diamond-13.mp4">
</head>
<body>
    <div id="radius"></div>
    <img id="back" src="data:image/png;base64,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">
    <div id="header">
        <!-- <div id="arrow">

        </div> -->
        <div id="title">
            Videos &#187; card-videos
        </div>
    </div>
    <div id="date-row">
        Today
    </div>
    <div id="video-grid">
        <script>
            for(var i=0;i<52;i++){
                const extraSeconds = Math.floor(Math.random() * 5) + 1;
                const seconds = 7 + extraSeconds;
                const perSeconds = 4.5 / 10;
                const mb = perSeconds * seconds;
                const alt = Math.floor(Math.random() * 9) - 6;
                document.write('<div class="video alt-' + alt + '" data-length="'+seconds+'"><div class="info"><span style="float:left">0:' + (seconds < 10 ? '0' + seconds: seconds) +'</span><span style="float:right">'+ mb.toFixed(2) +' MB</span></div></div>');
            }
        </script>
            
            

        </div>
    <div id="player">
        <video src="ccards/base.mp4" muted></video>
        <div id="pause-screen">
            <div id="close">
                
<svg xmlns="http://www.w3.org/2000/svg" width="38" height="38" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>
            </div>
            <span>Tap anywhere to continue playing</span>
            <div id="play-controls">
                <div id="play"> &#9654; </div>
                <div id="bar-container">
                    <div id="bar"></div>
                    <div id="bar-indicator"></div>
                </div>
                <div id="time">0:04 / 0:<span id="seconds">11</span></div>
            </div>
        </div>
    </div>
    <script>
        document.querySelector('#header').addEventListener("click", function() {
            var el = document.documentElement,
            rfs = el.requestFullscreen || el.webkitRequestFullScreen;

            rfs.call(el);
        });
        const ps = document.querySelector('#pause-screen');
        document.querySelector('#video-grid').addEventListener('click', ev => {
            console.log(ev.target);
            let curElement = ev.target;
            do {
                console.log(curElement);
                if (curElement.matches('[data-length')) {
                    const seconds = parseInt(curElement.dataset.length);
                    document.querySelector('#seconds').textContent = seconds < 10 ? '0' + seconds : seconds;
                }
            } while(curElement = curElement.parentElement);
            window.history.pushState(undefined, "video", '?video');
            document.querySelector('#player').style.opacity = 1;
            document.querySelector('#player').style.transform = 'unset';
            document.querySelector('#player').style.pointerEvents = 'unset';
            document.querySelector('#player > video').src = 'ccards/base.mp4';
            document.querySelector('#player > video').play();
            // setTimeout(() => {
                
            // }, 10000);
        });
        document.querySelector('#player > video').addEventListener('click', () => {
            ps.style.opacity = 1;
            ps.style.backdropFilter = 'blur(5px)';
            ps.style.pointerEvents = 'unset';
            // document.querySelector('#player > video').pause();
        });

        let touchStartTouch;
        ps.addEventListener('touchstart', ev => {
            // alert(ev.touches[0].pageX);
            touchStartTouch = ev.touches[0];
        });
        ps.addEventListener('touchend', ev => {
            const touch = ev.changedTouches[0];
            const horizontalChange = touch.screenX - touchStartTouch.screenX;
            const verticalChange = touch.screenY - touchStartTouch.screenY;
            let suit;
            if (Math.abs(horizontalChange) > Math.abs(verticalChange)) {
                if (horizontalChange > 0) {
                    suit = 'Heart';
                } else {
                    suit = 'Diamond';
                }
            } else {
                if (verticalChange > 0) {
                    suit = 'Clubs';
                } else {
                    suit = 'Spades';
                }
            }
            const gridWidth = window.innerWidth / 3;
            const gridHeight = (window.innerHeight - 50) / 4;
            const horizontalSelection = Math.floor(touchStartTouch.screenX / gridWidth);
            const verticalSelection = Math.floor(touchStartTouch.screenY / gridHeight);
            console.log(horizontalSelection, verticalSelection);
            let card = verticalSelection * 3 + horizontalSelection + 1;
            console.log(card);
            let name = suit + '-' + card + '.mp4';
            document.querySelector('#player > video').src = 'ccards/' + name;
            document.querySelector('#player > video').play();
            ps.style.opacity = 0;
            ps.style.backdropFilter = 'unset';
            ps.style.pointerEvents = 'none';
            setTimeout(() => {
                close();
            }, 9000);
        });
        const close = () => {
            document.querySelector('#player').style.opacity = 0;
            document.querySelector('#player').style.transform = 'scale(.5)';
            document.querySelector('#player').style.pointerEvents = 'none';

            ps.style.opacity = 0;
            ps.style.backdropFilter = 'unset';
            ps.style.pointerEvents = 'none';

        };
        window.addEventListener('popstate', () => {
            close();
        });
        document.querySelector('#close').addEventListener('touchstart', ev => {
            close();
            ev.preventDefault();
            ev.stopImmediatePropagation();
            ev.stopPropagation();
            return false;
        });
        document.querySelector('#close').addEventListener('touchend', ev => {
            ev.preventDefault();
            ev.stopImmediatePropagation();
            ev.stopPropagation();
            return false;

        });
    </script>
</body>
</html>